# Glitch Registry (Реестр Глитчей)

Интерактивный хаб для исследования парадоксов и "глитчей" нашей Вселенной. Проект представляет собой статическое одностраничное приложение (SPA) на чистом JavaScript, HTML и CSS.

![card view](https://raw.githubusercontent.com/diviper/8glitchs/3841247b83a55794d5cd3736cb682a304b744412/screenshots/card.png)

## Запуск и разработка

Для запуска проекта в режиме разработки не требуется локальный сервер. Достаточно открыть файл `index.html` в современном браузере. Однако для корректной работы модулей JavaScript (ESM) рекомендуется использовать простой локальный сервер.

**1. Установка зависимостей:**

```bash
npm install
```

**2. Запуск локального сервера (пример):**

Если у вас установлен `serve`, вы можете запустить его в корневой папке проекта:

```bash
npx serve
```

После этого откройте указанный адрес (обычно `http://localhost:3000`) в браузере.

## Структура проекта

- `/index.html`: Главный файл, точка входа в приложение.
- `/styles.css`: Основной файл стилей.
- `/assets/js/`: Исходный код JavaScript, разбитый на модули.
  - `router.js`: Основной роутер приложения.
  - `*Renderer.js`: Модули, отвечающие за рендеринг различных частей приложения (карточки, сцены, обзор).
  - `glitchList.js`: Логика для отображения и фильтрации списка глитчей в сайдбаре.
  - `paths.js`: Утилиты для работы с путями и загрузки данных.
- `/content/`: Весь контент проекта.
  - `glitches.json`: Манифест, регистрирующий все глитчи.
  - `glitches/*.md`: Markdown-файлы с контентом для каждого глитча.
- `/scenes/`: HTML-файлы для интерактивных сцен.
- `/scripts/`: Скрипты для проверки и валидации контента.
- `/docs/`: Документация проекта.
  - `content-schema.md`: Описание формата и структуры контента.

## Как добавить новый "Глитч"

1. **Создайте Markdown-файл:** В папке `content/glitches/` создайте новый файл, например, `my-new-glitch.md`.
2. **Заполните файл:** Добавьте в файл YAML-заголовок и все обязательные секции (`### TL;DR`, `### Парадокс` и т.д.). Руководствуйтесь схемой в `docs/content-schema.md`.
3. **(Опционально) Создайте сцену:** Если для глитча нужна интерактивная сцена, создайте HTML-файл в `scenes/` с именем `glitch-my-new-glitch.html`.
4. **Добавьте запись в манифест:** Откройте `content/glitches.json` и добавьте новый объект в массив, описывающий ваш глитч (slug, title, paths и т.д.).
5. **Проверьте корректность:** Запустите скрипт валидации, чтобы убедиться, что все заполнено правильно:

```bash
npm run validate:content
```

## Скрипты для проверки

- `npm run lint:md`: Проверка синтаксиса Markdown.
- `npm run lint:html`: Проверка синтаксиса HTML.
- `npm run validate:content`: Проверка контента на соответствие схеме (наличие полей, правильные категории и т.д.).
- `npm test`: Запуск тестов (если они есть).

## Деплой

Проект является полностью статическим и может быть развернут на любом хостинге для статических сайтов, таком как GitHub Pages, Netlify, Vercel и др.

**Для GitHub Pages:**

1. Убедитесь, что в вашем репозитории включены GitHub Pages в настройках (`Settings -> Pages`).
2. Выберите ветку (`main` или `gh-pages`) в качестве источника.
3. Проект будет доступен по адресу `https://<ваш-юзернейм>.github.io/<имя-репозитория>/`.

**Важно:** JavaScript-код в `assets/js/paths.js` автоматически определяет базовый путь репозитория, поэтому он должен корректно работать на GitHub Pages без дополнительной настройки.
